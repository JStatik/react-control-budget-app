(this["webpackJsonpcontrol-presupuesto"]=this["webpackJsonpcontrol-presupuesto"]||[]).push([[0],{117:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(2),r=s(28),i=s.n(r),c=(s(37),s(3)),l=function(){var e=JSON.parse(localStorage.getItem("ucba"));return{expensesLS:(null===e||void 0===e?void 0:e.expenses)||[],initialBudgetLS:(null===e||void 0===e?void 0:e.initialBudget)||0,residualBudgetLS:(null===e||void 0===e?void 0:e.residualBudget)||0}},u=s(29),o=s(14),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),s=Object(c.a)(t,2),a=s[0],r=s[1],i=function(e){r(Object(o.a)(Object(o.a)({},a),{},Object(u.a)({},e.target.name,e.target.value)))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)};return[a,i,l]},j=s(5),b=s.n(j),p=function(e){return isNaN(e)||e<=0||!b.a.isInt(e,{min:1,allow_leading_zeroes:!1})||!b.a.isNumeric(e)?{msgErrorBudget:"Ingrese un presupuesto v\xe1lido.",isValid:!1}:{msgErrorBudget:null,isValid:!0}},g=function(e){var t=e.msgError;return Object(a.jsx)("p",{className:"error alert alert-danger",children:t})},m=function(e){var t=e.setInitialBudget,s=e.setResidualBudget,r=d({budget:""}),i=Object(c.a)(r,3),l=i[0],u=i[1],o=i[2],j=l.budget,b=Object(n.useState)(null),m=Object(c.a)(b,2),O=m[0],x=m[1],h=Object(n.useState)(!1),f=Object(c.a)(h,2),v=f[0],N=f[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Indica tu presupuesto"}),O&&Object(a.jsx)(g,{msgError:O}),Object(a.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),N(!0);var a=p(j),n=a.msgErrorBudget,r=a.isValid;x(n),r&&(t(parseInt(j)),s(parseInt(j)),o()),N(!1)},children:[Object(a.jsx)("input",{type:"text",className:"u-full-width",placeholder:"Presupuesto...",name:"budget",value:j,onChange:u}),Object(a.jsx)("button",{type:"submit",className:"button-primary u-full-width",disabled:v,children:"Enviar presupuesto"})]})]})},O=s(31),x=s(30),h=s.n(x),f=function(e,t){return e.trim().length<2||b.a.isEmpty(e)||!b.a.isAlpha(e,["es-ES"])?{msgErrorExpenses:"Ingrese un tipo de gasto v\xe1lido.",isValid:!1}:isNaN(t)||t<=0||!b.a.isInt(t,{min:1,allow_leading_zeroes:!1})||!b.a.isNumeric(t)?{msgErrorExpenses:"Ingrese una cantidad de gasto v\xe1lida.",isValid:!1}:{msgErrorExpenses:null,isValid:!0}},v=function(e){var t=e.setExpenses,s=e.setInitialBudget,r=e.setResidualBudget,i=d({typeExpense:"",spendMoney:""}),l=Object(c.a)(i,3),u=l[0],o=l[1],j=l[2],p=u.typeExpense,m=u.spendMoney,x=Object(n.useState)(null),v=Object(c.a)(x,2),N=v[0],E=v[1],B=Object(n.useState)(!1),y=Object(c.a)(B,2),S=y[0],I=y[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Agrega tus gastos"}),N&&Object(a.jsx)(g,{msgError:N}),Object(a.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),I(!0);var s=b.a.escape(p),a=f(s,m),n=a.msgErrorExpenses,i=a.isValid;if(E(n),i){var c={id:h()(),type:s,money:parseInt(m)};r((function(e){return e-m})),t((function(e){return[].concat(Object(O.a)(e),[c])})),j()}I(!1)},children:[Object(a.jsxs)("div",{className:"campo-form",children:[Object(a.jsx)("label",{children:"Tipo de gasto"}),Object(a.jsx)("input",{type:"text",className:"u-full-width",placeholder:"Ej: Transporte",name:"typeExpense",value:p,onChange:o})]}),Object(a.jsxs)("div",{className:"campo-form",children:[Object(a.jsx)("label",{children:"Dinero a gastar"}),Object(a.jsx)("input",{type:"text",className:"u-full-width",placeholder:"Ej: 100",name:"spendMoney",value:m,onChange:o})]}),Object(a.jsx)("button",{type:"submit",className:"button-primary u-full-width",disabled:S,children:"Agregar gasto"})]}),Object(a.jsx)("button",{className:"button-reset u-full-width",onClick:function(){t([]),s(0),r(0)},children:"Reiniciar presupuesto"})]})},N=function(e){var t=e.expense,s=t.type,n=t.money;return Object(a.jsx)("ul",{className:"gastos-realizados",children:Object(a.jsx)("li",{className:"gastos",children:Object(a.jsxs)("p",{children:["".concat(s,":")," ",Object(a.jsx)("span",{className:"gasto",children:"$ ".concat(n)})]})})})},E=function(e,t){return t/e*100>=75?"alert-success":t/e*100>=50?"alert-warning":"alert-danger"},B=function(e){var t=e.initialBudget,s=e.residualBudget;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"alert alert-primary",children:["Presupuesto inicial: $ ",t]}),Object(a.jsxs)("div",{className:"alert ".concat(E(t,s)),children:["Presupuesto restante: $ ",s]})]})},y=function(){var e=l(),t=e.expensesLS,s=e.initialBudgetLS,r=e.residualBudgetLS,i=Object(n.useState)(t),u=Object(c.a)(i,2),o=u[0],d=u[1],j=Object(n.useState)(s),b=Object(c.a)(j,2),p=b[0],g=b[1],O=Object(n.useState)(r),x=Object(c.a)(O,2),h=x[0],f=x[1];return Object(n.useEffect)((function(){localStorage.setItem("ucba",JSON.stringify({expenses:o,initialBudget:p,residualBudget:h}))}),[o,p,h]),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{children:"Gastos"}),Object(a.jsx)("div",{className:"contenido-principal",children:0===p&&0===h?Object(a.jsx)(m,{setInitialBudget:g,setResidualBudget:f}):Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"one-half column",children:Object(a.jsx)(v,{setExpenses:d,setInitialBudget:g,setResidualBudget:f})}),Object(a.jsxs)("div",{className:"one-half column",children:[Object(a.jsx)("h2",{children:"Listado de gastos"}),o.map((function(e){return Object(a.jsx)(N,{expense:e},e.id)})),Object(a.jsx)(B,{initialBudget:p,residualBudget:h})]})]})})]})})};i.a.render(Object(a.jsx)(y,{}),document.getElementById("root"))},37:function(e,t,s){}},[[117,1,2]]]);
//# sourceMappingURL=main.3b5f4182.chunk.js.map